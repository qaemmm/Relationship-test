# å…‘æ¢ç ç³»ç»Ÿå‡çº§æ–¹æ¡ˆ

## ğŸ“‹ éœ€æ±‚åˆ†æ

### å½“å‰æµç¨‹
```
é¦–é¡µ â†’ ç­”é¢˜(24é¢˜) â†’ å…‘æ¢ç éªŒè¯é¡µ â†’ æŠ¥å‘Šé¡µ
```

### ç›®æ ‡æµç¨‹ï¼ˆå°çº¢ä¹¦æ¨¡å¼ï¼‰
```
é¦–é¡µ(è¾“å…¥å…‘æ¢ç ) â†’ ç­”é¢˜(24é¢˜) â†’ æŠ¥å‘Šé¡µ
```

### æ ¸å¿ƒéœ€æ±‚
1. âœ… **å…‘æ¢ç å‰ç½®**ï¼šç”¨æˆ·éœ€è¦å…ˆè¾“å…¥å…‘æ¢ç æ‰èƒ½è¿›å…¥æµ‹è¯„
2. âœ… **ä¸€ç ä¸€ç”¨**ï¼šæ¯ä¸ªå…‘æ¢ç åªèƒ½ä½¿ç”¨ä¸€æ¬¡
3. âœ… **æ‰¹é‡ç”Ÿæˆ**ï¼šèƒ½å¤Ÿæ‰¹é‡ç”Ÿæˆå…‘æ¢ç ï¼Œä¾¿äºè‡ªåŠ¨å‘è´§
4. âœ… **å½“å‰æŠ¥å‘Šé€»è¾‘æ¢³ç†**ï¼šäº†è§£ç°æœ‰çš„æŠ¥å‘Šå±•ç¤ºæœºåˆ¶

---

## ğŸ” å½“å‰æŠ¥å‘Šå±•ç¤ºé€»è¾‘è¯´æ˜

### æ•°æ®æµè½¬
```javascript
// 1. ç­”é¢˜é¡µï¼šå­˜å‚¨ç­”æ¡ˆ
localStorage.setItem('answers', JSON.stringify(answers));

// 2. è§£é”é¡µï¼šè®¡ç®—ç»“æœå¹¶å­˜å‚¨
const result = calculateAttachment(answers);  // è°ƒç”¨ç®—æ³•
localStorage.setItem('result', JSON.stringify(result));
localStorage.setItem('unlocked', 'true/false');  // æ˜¯å¦å·²éªŒè¯

// 3. æŠ¥å‘Šé¡µï¼šè¯»å–å¹¶å±•ç¤º
const result = JSON.parse(localStorage.getItem('result'));
const isUnlocked = localStorage.getItem('unlocked') === 'true';
```

### æŠ¥å‘Šç”Ÿæˆæµç¨‹

#### Step 1: åŠ è½½æ•°æ®
```javascript
// ä» content.json åŠ è½½7ç§ä¾æ‹ç±»å‹çš„æ–‡æ¡ˆ
const content = await fetch('data/content.json').then(r => r.json());
```

#### Step 2: æ˜¾ç¤ºç±»å‹æ ‡é¢˜
```javascript
// æ ¹æ®ç®—æ³•åˆ¤å®šçš„ç±»å‹ï¼ˆå¦‚ 'Anxious'ï¼‰
const typeData = content.attachmentTypes[result.attachmentType];
document.getElementById('typeTitle').textContent = typeData.title;
// ä¾‹å¦‚ï¼š"ç„¦è™‘å‹ä¾æ‹"
```

#### Step 3: æ•°æ®å¯è§†åŒ–
```javascript
// å¾—åˆ†æ¡ï¼ˆ4ä¸ªç»´åº¦ï¼‰
scoreA.style.width = `${(scores.A / 5) * 100}%`;  // ä¾æ‹ç„¦è™‘
scoreB.style.width = `${(scores.B / 5) * 100}%`;  // ä¾æ‹å›é¿
scoreC.style.width = `${(scores.C / 5) * 100}%`;  // ç•Œé™æ„Ÿ
scoreD.style.width = `${(scores.D / 5) * 100}%`;  // è‡ªæˆ‘ä»·å€¼

// é›·è¾¾å›¾ï¼ˆChart.jsï¼‰
new Chart(ctx, {
  type: 'radar',
  data: {
    labels: ['ä¾æ‹ç„¦è™‘', 'ä¾æ‹å›é¿', 'ç•Œé™æ„Ÿ', 'è‡ªæˆ‘ä»·å€¼ç¨³å®š'],
    datasets: [{ data: [A, B, C, 5-D] }]  // Dç»´åº¦åè½¬æ˜¾ç¤º
  }
});
```

#### Step 4: å†…å®¹å±•ç¤ºï¼ˆæ ¹æ®è§£é”çŠ¶æ€ï¼‰
```javascript
if (isUnlocked) {
  // æ˜¾ç¤ºå®Œæ•´å†…å®¹
  portraitContent.innerHTML = formatContent(typeData.portrait);  // æ‹çˆ±ç”»åƒ
  riskContent.innerHTML = formatContent(typeData.risks);         // ç›²åŒºä¸é£é™©
  adviceContent.innerHTML = formatContent(typeData.advice);      // æ•‘æ€¥å¤„æ–¹
  boundaryContent.innerHTML = formatContent(boundaryData);       // ç•Œé™æ„Ÿåˆ†æ
  selfWorthContent.innerHTML = formatContent(selfWorthData);     // è‡ªæˆ‘ä»·å€¼åˆ†æ
} else {
  // æ˜¾ç¤ºé”å®šçŠ¶æ€
  <div class="lock-icon">ğŸ”’</div>
  <p>å®Œæ•´è§£è¯»å†…å®¹å·²é”å®š</p>
}
```

#### Step 5: æ–‡æ¡ˆåŠ¨æ€åŒ¹é…
```javascript
// æ ¹æ®ç­‰çº§ï¼ˆLow/Mid/Highï¼‰åŒ¹é…æ–‡æ¡ˆ
const boundaryData = content.boundary[result.levels.C];  // å¦‚ 'Low'
// è¿”å›ï¼š"ä½ åœ¨å…³ç³»ä¸­å®¹æ˜“ä¸ºäº†ç»´æŒå’Œè°ï¼Œè€Œç‰ºç‰²è‡ªå·±çš„æ„Ÿå—..."

const selfWorthData = content.selfWorth[result.levels.D];  // å¦‚ 'High'
// è¿”å›ï¼š"åœ¨äº²å¯†å…³ç³»é‡Œï¼Œä½ çš„è‡ªæˆ‘ä»·å€¼æ„Ÿæ¯”è¾ƒå®¹æ˜“è¢«åŠ¨æ‘‡..."
```

---

## ğŸ¯ æ–°å…‘æ¢ç ç³»ç»Ÿæ¶æ„

### æ–¹æ¡ˆAï¼šçº¯å‰ç«¯æ–¹æ¡ˆï¼ˆç®€å•ï¼Œé€‚åˆMVPï¼‰

#### ä¼˜ç‚¹
- æ— éœ€åç«¯å¼€å‘
- éƒ¨ç½²ç®€å•
- å¿«é€Ÿä¸Šçº¿

#### ç¼ºç‚¹
- æ— æ³•çœŸæ­£é˜²æ­¢å…‘æ¢ç è¢«é‡å¤ä½¿ç”¨ï¼ˆå‰ç«¯å­˜å‚¨å¯è¢«æ¸…é™¤ï¼‰
- æ— æ³•è·¨è®¾å¤‡åŒæ­¥ä½¿ç”¨çŠ¶æ€
- æ— æ³•ç»Ÿè®¡ä½¿ç”¨æ•°æ®

#### å®ç°æ–¹å¼
```javascript
// å…‘æ¢ç æ•°æ®ç»“æ„ï¼ˆå­˜å‚¨åœ¨å‰ç«¯ï¼‰
const codeDatabase = {
  'ABC123': { used: false, createdAt: '2025-12-09' },
  'DEF456': { used: false, createdAt: '2025-12-09' },
  // ...
};

// éªŒè¯é€»è¾‘
function validateCode(code) {
  if (!codeDatabase[code]) return { valid: false, msg: 'å…‘æ¢ç ä¸å­˜åœ¨' };
  if (codeDatabase[code].used) return { valid: false, msg: 'å…‘æ¢ç å·²ä½¿ç”¨' };
  
  // æ ‡è®°ä¸ºå·²ä½¿ç”¨
  codeDatabase[code].used = true;
  localStorage.setItem('usedCode', code);
  
  return { valid: true };
}
```

### æ–¹æ¡ˆBï¼šåç«¯APIæ–¹æ¡ˆï¼ˆæ¨èï¼Œå¯æ‰©å±•ï¼‰

#### ä¼˜ç‚¹
- çœŸæ­£çš„ä¸€ç ä¸€ç”¨
- å¯è·¨è®¾å¤‡ä½¿ç”¨
- è¯¦ç»†çš„ä½¿ç”¨ç»Ÿè®¡
- æ”¯æŒè‡ªåŠ¨å‘è´§å¯¹æ¥

#### ç¼ºç‚¹
- éœ€è¦åç«¯å¼€å‘
- éœ€è¦æœåŠ¡å™¨

#### æ¶æ„å›¾
```
å‰ç«¯é¡µé¢
   â†“
éªŒè¯å…‘æ¢ç 
   â†“
åç«¯API (/api/verify-code)
   â†“
æ•°æ®åº“æŸ¥è¯¢ï¼ˆå…‘æ¢ç è¡¨ï¼‰
   â†“
è¿”å›éªŒè¯ç»“æœ + Token
   â†“
å‰ç«¯å­˜å‚¨ Token
   â†“
è¿›å…¥ç­”é¢˜æµç¨‹
```

---

## ğŸ“¦ å®æ–½æ–¹æ¡ˆï¼ˆåˆ†é˜¶æ®µï¼‰

### Phase 1: å‰ç«¯æ”¹é€ ï¼ˆå…‘æ¢ç å‰ç½®ï¼‰

#### 1.1 ä¿®æ”¹é¦–é¡µ (index.html)
```html
<!-- æ·»åŠ å…‘æ¢ç è¾“å…¥åŒºåŸŸ -->
<div class="code-entry-section">
  <h2>è¯·è¾“å…¥å…‘æ¢ç </h2>
  <input type="text" id="accessCode" placeholder="è¯·è¾“å…¥æ‚¨çš„å…‘æ¢ç ">
  <button onclick="validateAccessCode()">éªŒè¯å¹¶å¼€å§‹æµ‹è¯„</button>
  <p class="hint">ä»å°çº¢ä¹¦è·å–å…‘æ¢ç åï¼Œå³å¯å¼€å§‹æµ‹è¯„</p>
</div>
```

#### 1.2 ä¿®æ”¹éªŒè¯é€»è¾‘
```javascript
// index.html çš„ JS
async function validateAccessCode() {
  const code = document.getElementById('accessCode').value.trim().toUpperCase();
  
  // æ–¹æ¡ˆAï¼šå‰ç«¯éªŒè¯ï¼ˆç®€å•ï¼‰
  const result = validateCodeFrontend(code);
  
  // æ–¹æ¡ˆBï¼šåç«¯éªŒè¯ï¼ˆæ¨èï¼‰
  // const result = await fetch('/api/verify-code', {
  //   method: 'POST',
  //   body: JSON.stringify({ code })
  // }).then(r => r.json());
  
  if (result.valid) {
    localStorage.setItem('validatedCode', code);
    localStorage.setItem('unlocked', 'true');  // ç›´æ¥æ ‡è®°å·²è§£é”
    window.location.href = 'quiz.html';
  } else {
    alert(result.msg || 'å…‘æ¢ç æ— æ•ˆ');
  }
}
```

#### 1.3 ç§»é™¤ä¸­é—´è§£é”é¡µ
- åˆ é™¤ `unlock.html`ï¼ˆä¸å†éœ€è¦ï¼‰
- ç­”é¢˜å®Œæˆåç›´æ¥è·³è½¬åˆ°æŠ¥å‘Šé¡µ

#### 1.4 ä¿®æ”¹ç­”é¢˜é¡µè·³è½¬
```javascript
// quiz.js çš„ nextQuestion() å‡½æ•°
if (currentQuestion < questions.length - 1) {
  currentQuestion++;
  displayQuestion();
} else {
  // å®Œæˆæµ‹è¯„ï¼Œç›´æ¥è·³è½¬åˆ°æŠ¥å‘Šé¡µï¼ˆå·²åœ¨é¦–é¡µéªŒè¯è¿‡ï¼‰
  window.location.href = 'report.html';
}
```

---

### Phase 2: å…‘æ¢ç ç”Ÿæˆå™¨

#### 2.1 ç”Ÿæˆè„šæœ¬ (generate_codes.py)
```python
import random
import string
import json
from datetime import datetime

def generate_code(length=8):
    """ç”Ÿæˆéšæœºå…‘æ¢ç """
    chars = string.ascii_uppercase + string.digits
    return ''.join(random.choices(chars, k=length))

def batch_generate(count=100):
    """æ‰¹é‡ç”Ÿæˆå…‘æ¢ç """
    codes = []
    used_codes = set()
    
    while len(codes) < count:
        code = generate_code()
        if code not in used_codes:
            used_codes.add(code)
            codes.append({
                'code': code,
                'created_at': datetime.now().isoformat(),
                'used': False,
                'used_at': None
            })
    
    return codes

# ç”Ÿæˆ100ä¸ªå…‘æ¢ç 
codes = batch_generate(100)

# ä¿å­˜ä¸ºJSON
with open('codes_batch_001.json', 'w', encoding='utf-8') as f:
    json.dump(codes, f, ensure_ascii=False, indent=2)

# ä¿å­˜ä¸ºCSVï¼ˆä¾¿äºå¯¼å…¥å‘è´§ç³»ç»Ÿï¼‰
with open('codes_batch_001.csv', 'w', encoding='utf-8') as f:
    f.write('å…‘æ¢ç ,ç”Ÿæˆæ—¶é—´,çŠ¶æ€\n')
    for item in codes:
        f.write(f"{item['code']},{item['created_at']},æœªä½¿ç”¨\n")

print(f"âœ… å·²ç”Ÿæˆ {len(codes)} ä¸ªå…‘æ¢ç ")
print(f"ğŸ“ JSONæ–‡ä»¶: codes_batch_001.json")
print(f"ğŸ“ CSVæ–‡ä»¶: codes_batch_001.csv")
```

#### 2.2 ä½¿ç”¨æ–¹å¼
```bash
# ç”Ÿæˆ100ä¸ªå…‘æ¢ç 
python generate_codes.py

# ç”Ÿæˆè‡ªå®šä¹‰æ•°é‡
python generate_codes.py --count 500

# ç”ŸæˆæŒ‡å®šé•¿åº¦
python generate_codes.py --count 100 --length 10
```

#### 2.3 å¯¼å…¥åˆ°ç³»ç»Ÿ
**æ–¹æ¡ˆAï¼ˆå‰ç«¯ï¼‰**ï¼š
```javascript
// å°† codes_batch_001.json å¯¼å…¥åˆ° data/codes.json
// å‰ç«¯ä»è¿™ä¸ªæ–‡ä»¶è¯»å–å¯ç”¨å…‘æ¢ç 
```

**æ–¹æ¡ˆBï¼ˆåç«¯ï¼‰**ï¼š
```bash
# å¯¼å…¥åˆ°æ•°æ®åº“
python import_codes.py codes_batch_001.json
```

---

### Phase 3: åç«¯APIè®¾è®¡ï¼ˆå¯é€‰ï¼Œæ¨èï¼‰

#### 3.1 æ•°æ®åº“è¡¨ç»“æ„
```sql
CREATE TABLE redemption_codes (
  id INT PRIMARY KEY AUTO_INCREMENT,
  code VARCHAR(20) UNIQUE NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  used BOOLEAN DEFAULT FALSE,
  used_at DATETIME NULL,
  user_ip VARCHAR(50) NULL,
  user_agent TEXT NULL,
  INDEX idx_code (code),
  INDEX idx_used (used)
);
```

#### 3.2 APIæ¥å£
```javascript
// POST /api/verify-code
{
  "code": "ABC12345"
}

// Response (æˆåŠŸ)
{
  "success": true,
  "message": "éªŒè¯æˆåŠŸ",
  "token": "eyJhbGc..."  // JWT Token
}

// Response (å¤±è´¥)
{
  "success": false,
  "message": "å…‘æ¢ç å·²ä½¿ç”¨" / "å…‘æ¢ç ä¸å­˜åœ¨"
}
```

#### 3.3 Node.js ç¤ºä¾‹ï¼ˆExpressï¼‰
```javascript
const express = require('express');
const app = express();

app.post('/api/verify-code', async (req, res) => {
  const { code } = req.body;
  
  // æŸ¥è¯¢æ•°æ®åº“
  const codeData = await db.query(
    'SELECT * FROM redemption_codes WHERE code = ?', 
    [code]
  );
  
  if (!codeData) {
    return res.json({ success: false, message: 'å…‘æ¢ç ä¸å­˜åœ¨' });
  }
  
  if (codeData.used) {
    return res.json({ success: false, message: 'å…‘æ¢ç å·²ä½¿ç”¨' });
  }
  
  // æ ‡è®°ä¸ºå·²ä½¿ç”¨
  await db.query(
    'UPDATE redemption_codes SET used = TRUE, used_at = NOW(), user_ip = ? WHERE code = ?',
    [req.ip, code]
  );
  
  // ç”ŸæˆToken
  const token = jwt.sign({ code }, SECRET_KEY, { expiresIn: '7d' });
  
  res.json({ success: true, token });
});
```

---

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### å…‘æ¢ç æ ¼å¼è®¾è®¡
```javascript
// å»ºè®®æ ¼å¼ï¼š8ä½å­—æ¯æ•°å­—ç»„åˆ
// ç¤ºä¾‹ï¼šA3B7K9M2

// ç”Ÿæˆè§„åˆ™
function generateCode() {
  const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';  // æ’é™¤æ˜“æ··æ·†å­—ç¬¦ï¼ˆ0Oã€1Iï¼‰
  let code = '';
  for (let i = 0; i < 8; i++) {
    code += chars[Math.floor(Math.random() * chars.length)];
  }
  return code;
}

// å¸¦æ ¡éªŒä½ç‰ˆæœ¬ï¼ˆæ›´å®‰å…¨ï¼‰
function generateCodeWithChecksum() {
  const base = generateCode().substring(0, 7);
  const checksum = calculateChecksum(base);
  return base + checksum;
}
```

### é˜²æ­¢é‡å¤ä½¿ç”¨ç­–ç•¥

#### å‰ç«¯æ–¹æ¡ˆ
```javascript
// ä½¿ç”¨LocalStorageè®°å½•
const usedCodes = JSON.parse(localStorage.getItem('usedCodes') || '[]');
if (usedCodes.includes(code)) {
  return { valid: false, msg: 'æ­¤è®¾å¤‡å·²ä½¿ç”¨è¯¥å…‘æ¢ç ' };
}
usedCodes.push(code);
localStorage.setItem('usedCodes', JSON.stringify(usedCodes));
```

#### åç«¯æ–¹æ¡ˆ
```javascript
// æ•°æ®åº“è®°å½• + IPé™åˆ¶
UPDATE redemption_codes 
SET used = TRUE, 
    used_at = NOW(), 
    user_ip = '192.168.1.1',
    user_agent = 'Mozilla/5.0...'
WHERE code = 'ABC12345' AND used = FALSE;

// å¦‚æœ affected_rows = 0ï¼Œè¯´æ˜å·²è¢«ä½¿ç”¨
```

---

## ğŸ“Š æ•°æ®ç»Ÿè®¡åŠŸèƒ½ï¼ˆåç«¯æ–¹æ¡ˆï¼‰

### ç»Ÿè®¡æŠ¥è¡¨
```sql
-- æ€»å…‘æ¢ç æ•°é‡
SELECT COUNT(*) FROM redemption_codes;

-- å·²ä½¿ç”¨æ•°é‡
SELECT COUNT(*) FROM redemption_codes WHERE used = TRUE;

-- ä½¿ç”¨ç‡
SELECT 
  COUNT(*) as total,
  SUM(CASE WHEN used THEN 1 ELSE 0 END) as used,
  ROUND(SUM(CASE WHEN used THEN 1 ELSE 0 END) * 100.0 / COUNT(*), 2) as usage_rate
FROM redemption_codes;

-- æ¯æ—¥ä½¿ç”¨è¶‹åŠ¿
SELECT 
  DATE(used_at) as date,
  COUNT(*) as count
FROM redemption_codes
WHERE used = TRUE
GROUP BY DATE(used_at)
ORDER BY date DESC;
```

---

## âœ… éªŒè¯è®¡åˆ’

### 1. åŠŸèƒ½æµ‹è¯•

#### æµ‹è¯•1: å…‘æ¢ç éªŒè¯ï¼ˆæœ‰æ•ˆç ï¼‰
```
æ­¥éª¤ï¼š
1. æ‰“å¼€é¦–é¡µ http://localhost:8001/
2. è¾“å…¥æœ‰æ•ˆå…‘æ¢ç ï¼šTEST2024
3. ç‚¹å‡»"éªŒè¯å¹¶å¼€å§‹æµ‹è¯„"

é¢„æœŸç»“æœï¼š
âœ“ è·³è½¬åˆ°ç­”é¢˜é¡µ quiz.html
âœ“ LocalStorage å­˜å‚¨ validatedCode = 'TEST2024'
âœ“ LocalStorage å­˜å‚¨ unlocked = 'true'
```

#### æµ‹è¯•2: å…‘æ¢ç éªŒè¯ï¼ˆæ— æ•ˆç ï¼‰
```
æ­¥éª¤ï¼š
1. æ‰“å¼€é¦–é¡µ
2. è¾“å…¥æ— æ•ˆå…‘æ¢ç ï¼šINVALID123
3. ç‚¹å‡»éªŒè¯

é¢„æœŸç»“æœï¼š
âœ“ æ˜¾ç¤ºé”™è¯¯æç¤ºï¼š"å…‘æ¢ç ä¸å­˜åœ¨"
âœ“ ä¸è·³è½¬é¡µé¢
âœ“ è¾“å…¥æ¡†æ¸…ç©º
```

#### æµ‹è¯•3: å…‘æ¢ç éªŒè¯ï¼ˆå·²ä½¿ç”¨ï¼‰
```
æ­¥éª¤ï¼š
1. ä½¿ç”¨å…‘æ¢ç  TEST2024 å®Œæˆä¸€æ¬¡æµ‹è¯„
2. æ¸…é™¤ç­”é¢˜æ•°æ®ä½†ä¿ç•™ä½¿ç”¨è®°å½•
3. å†æ¬¡è¾“å…¥ TEST2024

é¢„æœŸç»“æœï¼š
âœ“ æ˜¾ç¤ºé”™è¯¯æç¤ºï¼š"å…‘æ¢ç å·²ä½¿ç”¨"
âœ“ æ— æ³•è¿›å…¥ç­”é¢˜
```

#### æµ‹è¯•4: å®Œæ•´æµç¨‹
```
æ­¥éª¤ï¼š
1. è¾“å…¥å…‘æ¢ç  DEMO2025
2. å®Œæˆ24é¢˜ç­”é¢˜
3. æŸ¥çœ‹æŠ¥å‘Š

é¢„æœŸç»“æœï¼š
âœ“ æŠ¥å‘Šé¡µç›´æ¥æ˜¾ç¤ºå®Œæ•´å†…å®¹ï¼ˆå·²è§£é”çŠ¶æ€ï¼‰
âœ“ é›·è¾¾å›¾æ­£å¸¸æ˜¾ç¤º
âœ“ æ‰€æœ‰æ–‡æ¡ˆæ­£ç¡®æ¸²æŸ“
âœ“ æ— éœ€å†æ¬¡éªŒè¯å…‘æ¢ç 
```

### 2. æ‰¹é‡ç”Ÿæˆæµ‹è¯•
```bash
# è¿è¡Œç”Ÿæˆè„šæœ¬
python generate_codes.py --count 10

# éªŒè¯è¾“å‡º
ls -la codes_batch_*.json codes_batch_*.csv

# æ£€æŸ¥å†…å®¹
head -20 codes_batch_001.csv
```

é¢„æœŸç»“æœï¼š
- âœ“ ç”Ÿæˆ10ä¸ªå”¯ä¸€å…‘æ¢ç 
- âœ“ JSONå’ŒCSVæ–‡ä»¶éƒ½è¢«åˆ›å»º
- âœ“ æ¯ä¸ªå…‘æ¢ç 8ä½å­—ç¬¦
- âœ“ æ— é‡å¤å…‘æ¢ç 

### 3. æµè§ˆå™¨æµ‹è¯•
```
æµ‹è¯•æµè§ˆå™¨ï¼š
- Chrome (latest)
- Firefox (latest)
- Safari (iOS)
- å¾®ä¿¡å†…ç½®æµè§ˆå™¨

æµ‹è¯•è®¾å¤‡ï¼š
- PCæ¡Œé¢ç«¯
- æ‰‹æœºç«¯ï¼ˆiOS/Androidï¼‰
```

---

## ğŸš€ å®æ–½ä¼˜å…ˆçº§

### ç«‹å³å®æ–½ï¼ˆæœ¬å‘¨ï¼‰
- [x] Phase 1.1: ä¿®æ”¹é¦–é¡µå¢åŠ å…‘æ¢ç è¾“å…¥
- [x] Phase 1.2: å®ç°å‰ç«¯éªŒè¯é€»è¾‘ï¼ˆæ–¹æ¡ˆAï¼‰
- [x] Phase 1.3: ç§»é™¤ unlock.html
- [x] Phase 1.4: è°ƒæ•´ç­”é¢˜æµç¨‹
- [x] Phase 2.1: åˆ›å»ºå…‘æ¢ç ç”Ÿæˆè„šæœ¬

### çŸ­æœŸä¼˜åŒ–ï¼ˆä¸‹å‘¨ï¼‰
- [ ] ä¼˜åŒ–å…‘æ¢ç è¾“å…¥ä½“éªŒï¼ˆè‡ªåŠ¨å¤§å†™ã€æ ¼å¼åŒ–ï¼‰
- [ ] æ·»åŠ å…‘æ¢ç ä½¿ç”¨è¯´æ˜
- [ ] ç¾åŒ–é”™è¯¯æç¤ºæ ·å¼
- [ ] æµ‹è¯•å®Œæ•´æµç¨‹

### ä¸­æœŸå‡çº§ï¼ˆ2-4å‘¨ï¼‰
- [ ] Phase 3: å¼€å‘åç«¯API
- [ ] æ•°æ®åº“éƒ¨ç½²
- [ ] å¯¹æ¥è‡ªåŠ¨å‘è´§ç³»ç»Ÿ
- [ ] æ•°æ®ç»Ÿè®¡åå°

---

## ğŸ’¡ è‡ªåŠ¨å‘è´§é›†æˆå»ºè®®

### æ–¹æ¡ˆ1: æœ‰èµ/å¾®åº—é›†æˆ
```javascript
// è®¢å•å®Œæˆåè‡ªåŠ¨å‘è´§
webhook.on('order_paid', async (order) => {
  // ç”Ÿæˆå…‘æ¢ç 
  const code = await generateUniqueCode();
  
  // å‘é€å…‘æ¢ç åˆ°ä¹°å®¶
  await sendMessage(order.buyer_phone, {
    template: 'code_delivery',
    params: {
      code: code,
      link: 'https://yourdomain.com?code=' + code
    }
  });
});
```

### æ–¹æ¡ˆ2: å°çº¢ä¹¦ç§ä¿¡è‡ªåŠ¨å›å¤
```javascript
// ä½¿ç”¨RPAæˆ–APIç›‘å¬ç§ä¿¡
bot.on('message', async (msg) => {
  if (msg.text.includes('å…‘æ¢ç ')) {
    const code = await getUnusedCode();  // ä»æ± ä¸­å–ä¸€ä¸ª
    await bot.reply(msg.user, `æ‚¨çš„å…‘æ¢ç æ˜¯ï¼š${code}\nç‚¹å‡»é“¾æ¥å¼€å§‹æµ‹è¯„ï¼š...`);
    await markCodeAsIssued(code, msg.user);
  }
});
```

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **å®‰å…¨æ€§**
   - å…‘æ¢ç åº”è¶³å¤Ÿéšæœºï¼ˆé¿å…è¢«çŒœæµ‹ï¼‰
   - åç«¯éªŒè¯æ—¶è¦é˜²æ­¢æš´åŠ›ç ´è§£ï¼ˆåŠ é™æµï¼‰
   - æ•æ„Ÿæ“ä½œè®°å½•æ—¥å¿—ï¼ˆIPã€æ—¶é—´æˆ³ï¼‰

2. **ç”¨æˆ·ä½“éªŒ**
   - å…‘æ¢ç è¾“å…¥æ”¯æŒè‡ªåŠ¨å¤§å†™
   - æ”¯æŒå¤åˆ¶ç²˜è´´
   - é”™è¯¯æç¤ºè¦å‹å¥½æ¸…æ™°
   - ä¿å­˜è¾“å…¥å†å²ï¼ˆæ–¹ä¾¿é‡è¯•ï¼‰

3. **è¿è¥å»ºè®®**
   - è®¾ç½®å…‘æ¢ç æœ‰æ•ˆæœŸï¼ˆå¦‚30å¤©ï¼‰
   - åˆ†æ‰¹æ¬¡ç”Ÿæˆï¼ˆä¾¿äºè¿½è¸ªæ¥æºï¼‰
   - å®šæœŸæ¸…ç†è¿‡æœŸç 
   - ç›‘æ§ä½¿ç”¨ç‡è°ƒæ•´è¥é”€ç­–ç•¥

---

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**ï¼šç­‰å¾…æ‚¨çš„ç¡®è®¤é€‰æ‹©æ–¹æ¡ˆï¼ˆAçº¯å‰ç«¯ or Båç«¯APIï¼‰ï¼Œç„¶åå¼€å§‹å®æ–½ï¼
